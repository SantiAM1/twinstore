{% extends 'base.html' %}
{% load static compress %}

{% block meta %}
{% include 'components/meta.html' %}
{% endblock meta %}

{% block head %}
<title>{{title}} - {{config.nombre_tienda}}</title>
{% endblock head %}

{% block contenidomain %}
<section class="generic-box">
    {% include 'partials/generic-header.html' %}
    <section class="generic-data products">
        <nav class="product-nav">
            {% if evento_activo %}
            {% include 'components/evento.html' %}
            {% endif %}
            <ul class="product-filters-active">
                {% include 'partials/active-filters.html' %}
            </ul>
            <section class="product-mainnav">
                <div class="product-category-nav">
                    <span class="product-title generic-hover generic-flip">
                        <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-down"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6l6 -6" /></svg>
                        <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-category-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 4h6v6h-6z" /><path d="M4 14h6v6h-6z" /><path d="M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M7 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /></svg>
                        Categorías
                    </span>
                    <div class="product-expand generic-expand">
                        {% for categoria in categorias_data %}
                            <div class="product-category-item">
                                <span class="product-category generic-hover generic-flip">
                                    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-down"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6l6 -6" /></svg>
                                    {{categoria.nombre}}
                                </span>
                                <ul class="product-subcategory generic-expand">
                                    {% for subcategoria in categoria.subcategorias %}<li><a href="{{subcategoria.url}}">{{subcategoria.nombre}}</a></li>{% endfor %}
                                </ul>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="product-filter-nav">
                    <span class="product-title generic-hover generic-flip">
                        <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-down"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6l6 -6" /></svg>
                        <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-adjustments-horizontal"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 6l8 0" /><path d="M16 6l4 0" /><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 12l2 0" /><path d="M10 12l10 0" /><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 18l11 0" /><path d="M19 18l1 0" /></svg>
                        Filtros
                    </span>
                    <div class="product-filters product-expand generic-expand">
                        {% include 'partials/filters-nav.html' %}
                    </div>
                </div>
            </section>
        </nav>
        {% if productos %}
        <div class="product-grid-box">
            <aside class="generic-select-box">
                <button type="button" id="product-order-toggle" class="generic-select">
                    <span class="producto-order-span">{{filtro}}</span>
                    <svg  xmlns="http://www.w3.org/2000/svg"  width="20"  height="20"  viewBox="0 0 24 24"  fill="currentColor"  class="icon icon-tabler icons-tabler-filled icon-tabler-caret-down"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 9c.852 0 1.297 .986 .783 1.623l-.076 .084l-6 6a1 1 0 0 1 -1.32 .083l-.094 -.083l-6 -6l-.083 -.094l-.054 -.077l-.054 -.096l-.017 -.036l-.027 -.067l-.032 -.108l-.01 -.053l-.01 -.06l-.004 -.057v-.118l.005 -.058l.009 -.06l.01 -.052l.032 -.108l.027 -.067l.07 -.132l.065 -.09l.073 -.081l.094 -.083l.077 -.054l.096 -.054l.036 -.017l.067 -.027l.108 -.032l.053 -.01l.06 -.01l.057 -.004l12.059 -.002z" /></svg>
                </button>
                <ul class="generic-list hide prodOrderLinks">
                    {% include 'partials/order-links.html' %}
                </ul>
            </aside>
            <section class="product-grid">
                {% include 'partials/prod-grid.html' %}
            </section>
        </div>
        {% else %}
        <div class="product-empty">
            <h2>¡Lo sentimos! No encontramos ningún producto.</h2>
            <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-search-off"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057" /><path d="M3 3l18 18" /></svg>
            <a href="{% url 'core:home' %}" class="generic-button btn-1 margin max-250">Volver al inicio</a>
            <a href="{% url 'products:grid' %}" class="generic-button btn-2 max-250">Ver todos los productos</a>
        </div>
        {% endif %}
    </section>
</section>
{% endblock contenidomain %}

{% block myscripts %}
{% compress js %}
<script src="{% static 'js/prodGrid.js' %}"></script>
{% endcompress %}
{% endblock myscripts %}